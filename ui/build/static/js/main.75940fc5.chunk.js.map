{"version":3,"sources":["utils/txUtils.js","utils/networkingUtils.js","theme/theme.js","containers/NavContainer.js","containers/ActionTabsContainer.js","components/NetworkChooser.js","components/SwapTransactionStatus.js","containers/DepositContainer.js","components/StreamTransactionStatus.js","components/ClaimStreamTransaction.js","containers/Stream/ViewStreamContainer.js","components/StreamTransaction.js","components/Disclosure.js","containers/Stream/StreamContainer.js","App.js","serviceWorker.js","index.js","assets/renvm-logo.svg"],"names":["addTx","store","tx","storeString","type","txs","get","push","set","localStorage","setItem","JSON","stringify","window","updateTx","newTx","map","t","id","removeTx","filter","getStreams","a","this","props","web3","console","log","getState","adapterAddress","adapterContract","eth","Contract","streamAdapterABI","adapter","methods","getSchedules","call","schedules","recoverStreams","destAddress","bind","beneficiary","utils","fromAscii","s","amount","BigNumber","Math","random","toFixed","instant","awaiting","source","dest","div","toNumber","startTime","duration","error","txHash","schedule","claimTransactions","calculateStreamProgress","amountClaimedPercentage","start","Number","now","floor","Date","end","totalClaimablePercentrage","amountClaimed","amountClaimablePercentage","totalClaimableAmount","claimedAmount","claimableAmount","remaingDuration","updateStreamInfo","sched","minutesClaimed","Object","assign","claim","web3Context","claimAmount","lib","getGasPrice","gasPrice","Promise","resolve","reject","send","from","accounts","round","gasLimit","on","hash","concat","timestamp","confirmationNumber","receipt","completeDeposit","pendingShiftIns","params","renResponse","renSignature","adapterABI","shiftInWithSwap","contractCalls","contractParams","value","sendAmount","autogen","nhash","result","addVestingSchedule","p","transactionHash","initShiftIn","renBtcAddress","ethSig","sdk","contractFn","name","data","sendToken","RenJS","Tokens","BTC","Btc2Eth","sats","sendTo","nonce","randomNonce","shiftIn","shiftIns","initDeposit","btcConfirmations","indexOf","addr","waitForDeposit","dep","utxo","confirmations","btcTxHash","txid","deposit","submitToRenVM","signature","response","initInstantSwap","address","fetch","method","headers","body","sourceAmount","sourceAsset","destinationAsset","destinationAddress","request","json","gatewayAddress","initInstantMonitoring","network","setInterval","req","status","initMonitoring","signKey","ephemeral","relay_client_config","txfee","verbose","initNetworking","fromConnection","gsn","initLocalTransactions","swaps","getItem","streams","parse","switchNetwork","createMuiTheme","palette","primary","light","main","dark","contrastText","secondary","grey","overrides","PrivateNotchedOutline","root","MuiOutlinedInput","notchedOutline","borderColor","borderWidth","MuiTextField","MuiToggleButtonGroup","grouped","borderLeft","MuiToggleButton","border","backgroundColor","color","fontWeight","NavContainer","classes","walletAddress","length","state","Grid","item","xs","className","navContainer","container","alignItems","Typography","variant","React","Component","withStyles","paddingTop","theme","spacing","paddingBottom","minHeight","logo","height","width","marginRight","accountButton","withStore","ActionTabsContainer","location","pathname","match","history","src","RenVMLogo","Tabs","orientation","onChange","e","changeTabs","tabs","Tab","label","withRouter","paddingRight","breakpoints","down","display","flexDirection","networkChooser","marginTop","fontSize","currentNetwork","Select","native","inputProps","Fragment","DepositContainer","clearInterval","swapMonitor","instantSwapSelected","transactions","showInstant","disabled","contentContainer","direction","desc","target","amountContainer","TextField","classNames","input","size","placeholder","InputProps","endAdornment","InputAdornment","position","switchContainer","FormControlLabel","control","Switch","checked","swapButtonContainer","Button","swapButton","onClick","startInstant","Divider","divider","unfinished","index","key","depositItem","depositStatus","SwapTransactionStatus","viewLink","href","info","caption","flexGrow","paper","borderRadius","shape","padding","marginBottom","title","justifyContent","btcLink","actionTabs","textAlign","complete","claimItem","links","marginLeft","progress","progressTop","progressMiddle","animationDuration","left","progressBottom","progressContainer","toLocaleString","ViewStreamContainer","loaded","totalClaimable","availableAmount","availablePercentage","initAddressRef","createRef","interval","scheduleInterval","mounted","selectedTx","setState","current","claimRequesting","backLink","back","hidden","initContainer","spinner","CircularProgress","spinnerTop","thickness","disableShrink","spinnerBottom","awaitingStatus","cancelLink","justify","depositAddress","inputRef","progressText","totalStreamed","decimals","claimButton","onView","onCancel","loadingContianer","margin","top","minWidth","claims","completed","Chip","icon","StreamContainer","activeView","searchAddress","searchLink","viewTx","radio","initialState","AppWrapper","selectedActionTab","Container","maxWidth","sm","md","content","warning","exact","path","component","AppWrapperComponent","App","ThemeProvider","createStore","Boolean","hostname","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","module","exports"],"mappings":"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","file":"static/js/main.75940fc5.chunk.js","sourcesContent":["import RenJS from \"@renproject/ren\";\r\nimport adapterABI from './exchangeAdapterSimpleABI.json'\r\nimport streamAdapterABI from './streamAdapterSimpleABI.json'\r\nimport BigNumber from 'bignumber.js'\r\n\r\n// export const API_URL = 'http://localhost:3000'\r\nexport const API_URL = ''\r\nexport const MIN_CLAIM_AMOUNT = 0.00011\r\nexport const SWAP_ADAPTER_TEST = '0xade8792c3ee90320cabde200ccab34b27cc88651'\r\nexport const SWAP_ADAPTER_MAIN = ''\r\nexport const STREAM_ADAPTER_TEST = '0x5dA168831EB6b4B6b0964cdac5A62a942E31B574'\r\nexport const STREAM_ADAPTER_MAIN = '0x9A72f205D2f0d4F789B2D0810b72E6f8E888d031'\r\nlet swapMonitor = null\r\n\r\nexport const addTx = (store, tx) => {\r\n    const storeString = tx.type === 'swap' ? 'swap.transactions' : 'stream.transactions'\r\n    let txs = store.get(storeString)\r\n    txs.push(tx)\r\n    store.set(storeString, txs)\r\n    localStorage.setItem(storeString, JSON.stringify(txs))\r\n    // for debugging\r\n    window[storeString] = txs\r\n}\r\n\r\nexport const updateTx = (store, newTx) => {\r\n    const storeString = newTx.type === 'swap' ? 'swap.transactions' : 'stream.transactions'\r\n    const txs = store.get(storeString).map(t => {\r\n        if (t.id === newTx.id) {\r\n            // const newTx = Object.assign(t, props)\r\n            return newTx\r\n        }\r\n        return t\r\n    })\r\n    store.set(storeString, txs)\r\n    localStorage.setItem(storeString, JSON.stringify(txs))\r\n\r\n    // for debugging\r\n    window[storeString] = txs\r\n}\r\n\r\nexport const removeTx = (store, tx) => {\r\n    const storeString = tx.type === 'swap' ? 'swap.transactions' : 'stream.transactions'\r\n    let txs = store.get(storeString).filter(t => (t.id !== tx.id))\r\n    // console.log(txs)\r\n    store.set(storeString, txs)\r\n    localStorage.setItem(storeString, JSON.stringify(txs))\r\n\r\n    // for debugging\r\n    window[storeString] = txs\r\n}\r\n\r\nexport const streamExists = function(streams, beneficiary, startTime) {\r\n    return streams.filter(stream => {\r\n        console.log(stream, beneficiary, startTime)\r\n        if (stream.destAddress === beneficiary && stream.startTime === startTime)  {\r\n            return false\r\n        } else {\r\n            return true\r\n        }\r\n    }).length > 0\r\n}\r\n\r\nexport const getStreams = async function() {\r\n    // console.log('search', destAddress)\r\n    const { store }  = this.props\r\n    const web3 = store.get('web3')\r\n    console.log(store.getState())\r\n    // const web3Context = store.get('web3Context')\r\n    const adapterAddress = store.get('stream.adapterAddress')\r\n    const adapterContract = new web3.eth.Contract(streamAdapterABI, adapterAddress)\r\n    // console.log(adapterContract)\r\n    window.adapter = adapterContract\r\n    const schedules = await adapterContract.methods.getSchedules().call()\r\n    // console.log(schedules)\r\n    return schedules\r\n}\r\n\r\nexport const recoverStreams = async function(destAddress) {\r\n    const { store } = this.props\r\n    const web3 = store.get('web3')\r\n    const schedules = await getStreams.bind(this)()\r\n    const beneficiary = web3.utils.fromAscii(destAddress)\r\n    const transactions = store.get('stream.transactions')\r\n    // const alreadyExists = !streamExists(transactions, web3.utils.toAscii(s.beneficiary), Number(s.startTime))\r\n\r\n    schedules.map(s => {\r\n        // console.log(s.beneficiary)\r\n        if (s.beneficiary === beneficiary) {\r\n            const amount = new BigNumber(s.amount)\r\n            const tx = {\r\n                id: 'tx-' + Math.random().toFixed(6),\r\n                type: 'stream',\r\n                instant: false,\r\n                awaiting: '',\r\n                source: 'btc',\r\n                dest: 'eth',\r\n                destAddress,\r\n                amount: amount.div(10 ** 8).toNumber(),\r\n                startTime: s.startTime,\r\n                duration: s.duration,\r\n                error: false,\r\n                txHash: '',\r\n                schedule: s,\r\n                claimTransactions: []\r\n            }\r\n\r\n            addTx(store, tx)\r\n        } else {\r\n            // show no results ui\r\n        }\r\n    })\r\n}\r\n\r\nexport const calculateStreamProgress = function(tx) {\r\n    const schedule = tx.schedule\r\n\r\n    if (schedule) {\r\n        const start = Number(schedule.startTime)\r\n        const now = Math.floor(Date.now() / 1000)\r\n        const end = Number(schedule.startTime) + (Number(schedule.duration * 60))\r\n        const period = end - start\r\n        let totalClaimablePercentrage = 0\r\n        let amountClaimedPercentage = 0\r\n        if (now > end) {\r\n            totalClaimablePercentrage = 100\r\n        } else {\r\n            totalClaimablePercentrage = Number((((now - start) / period) * 100).toFixed(1))\r\n        }\r\n        amountClaimedPercentage = Number(((schedule.amountClaimed / schedule.amount) * 100).toFixed(1))\r\n        const amountClaimablePercentage = Number((totalClaimablePercentrage - amountClaimedPercentage).toFixed(1))\r\n\r\n        const amount = tx.schedule ? (tx.schedule.amount / (10 ** 8)).toFixed(6) : 0\r\n        const totalClaimableAmount = amount * (totalClaimablePercentrage / 100)\r\n        const claimedAmount = Number(amount * (amountClaimedPercentage / 100))\r\n        const claimableAmount = Number(amount * (amountClaimablePercentage / 100))\r\n\r\n        return {\r\n            amount,\r\n            totalClaimablePercentrage,\r\n            totalClaimableAmount,\r\n            amountClaimedPercentage,\r\n            claimedAmount,\r\n            amountClaimablePercentage,\r\n            claimableAmount,\r\n            remaingDuration: end - start\r\n        }\r\n    } else {\r\n        return {\r\n            amount: 0,\r\n            totalClaimablePercentrage: 0,\r\n            totalClaimableAmount: 0,\r\n            amountClaimedPercentage: 0,\r\n            claimedAmount: 0,\r\n            amountClaimablePercentage: 0,\r\n            claimableAmount: 0,\r\n            remaingDuration: 0\r\n        }\r\n    }\r\n\r\n\r\n}\r\n\r\nexport const updateStreamInfo = async function(tx) {\r\n    const { store } =  this.props\r\n    const web3 = store.get('web3')\r\n    const { startTime, destAddress } = tx\r\n\r\n    const beneficiary = web3.utils.fromAscii(destAddress)\r\n    const schedules = await getStreams.bind(this)()\r\n\r\n    const schedule = schedules.filter(s => (\r\n        Number(s.startTime) === Number(startTime) &&\r\n        s.beneficiary === beneficiary\r\n    ))[0]\r\n\r\n    console.log('schedule', schedule, schedules)\r\n\r\n    if (schedule && schedule.beneficiary) {\r\n        // console.log('updateStreamInfo', schedules, schedule)\r\n        const sched = {\r\n            id: schedule.id,\r\n            beneficiary: schedule.beneficiary,\r\n            startTime: schedule.startTime,\r\n            duration: schedule.duration,\r\n            amount: schedule.amount,\r\n            amountClaimed: schedule.amountClaimed,\r\n            minutesClaimed: schedule.minutesClaimed\r\n        }\r\n        // in-case tx was never updated\r\n        let newTx = Object.assign(tx, {\r\n            awaiting: '',\r\n            error: false\r\n        })\r\n        newTx.schedule = sched\r\n        updateTx(store, tx, newTx)\r\n        return newTx\r\n    }\r\n}\r\n\r\nexport const claim = async function(tx) {\r\n    const { store }  = this.props\r\n    const web3 = store.get('web3')\r\n    const web3Context = store.get('web3Context')\r\n\r\n    const adapterAddress = store.get('stream.adapterAddress')\r\n    const { destAddress, schedule } = tx\r\n\r\n    store.set('stream.claimRequesting', true)\r\n\r\n    const {\r\n        totalClaimablePercentrage,\r\n        amountClaimedPercentage\r\n    } = calculateStreamProgress(tx)\r\n\r\n    const claimAmount = (((totalClaimablePercentrage - amountClaimedPercentage) / 100) * tx.amount).toFixed(6)\r\n\r\n    const adapterContract = new web3.eth.Contract(streamAdapterABI, adapterAddress)\r\n    const gasPrice = await web3Context.lib.eth.getGasPrice()\r\n\r\n    // console.log('claiming tx', tx, schedule, schedule.id)\r\n\r\n    return new Promise(async (resolve, reject) => {\r\n        try {\r\n            const result = await adapterContract.methods.claim(\r\n                schedule.id\r\n            ).send({\r\n                from: web3Context.accounts[0],\r\n                gasPrice: Math.round(gasPrice * 1.5),\r\n                gasLimit: 150000\r\n            }).on('transactionHash', (hash) => {\r\n                updateTx(store, Object.assign(tx, {\r\n                    claimTransactions: tx.claimTransactions.concat([{\r\n                        timestamp: Date.now(),\r\n                        amount: claimAmount,\r\n                        txHash: hash\r\n                    }])\r\n                }))\r\n            }).on('confirmation', (confirmationNumber, receipt) => {\r\n                if (confirmationNumber === 1) {\r\n                    store.set('stream.claimRequesting', false)\r\n                    console.log('confirmation', confirmationNumber, receipt)\r\n                    updateStreamInfo.bind(this)(tx)\r\n                    resolve()\r\n                }\r\n            })\r\n            // console.log('result', result)\r\n        } catch(e) {\r\n            console.log(e)\r\n            store.set('stream.claimRequesting', false)\r\n            reject()\r\n        }\r\n    })\r\n}\r\n\r\nexport const completeDeposit = async function(tx) {\r\n    const { store }  = this.props\r\n    const web3 = store.get('web3')\r\n    const web3Context = store.get('web3Context')\r\n    const pendingShiftIns = store.get('pendingShiftIns')\r\n\r\n    // const adapterAddress = store.get('adapterAddress')\r\n    const { id, type, params, awaiting, renResponse, renSignature } = tx\r\n\r\n    let adapterContract\r\n    if (type === 'swap') {\r\n        adapterContract = new web3.eth.Contract(adapterABI, store.get('swap.adapterAddress'))\r\n    } else if (type === 'stream') {\r\n        adapterContract = new web3.eth.Contract(streamAdapterABI, store.get('stream.adapterAddress'))\r\n    }\r\n\r\n    const gasPrice = await web3Context.lib.eth.getGasPrice()\r\n\r\n    updateTx(store, Object.assign(tx, { awaiting: 'eth-settle' }))\r\n\r\n    console.log('completeDeposit', tx)\r\n\r\n    try {\r\n        let result\r\n        if (type === 'swap') {\r\n            result = await adapterContract.methods.shiftInWithSwap(\r\n                params.contractCalls[0].contractParams[0].value,\r\n                params.sendAmount,\r\n                renResponse.autogen.nhash,\r\n                renSignature\r\n            ).send({\r\n                from: web3Context.accounts[0],\r\n                gasPrice: Math.round(gasPrice * 1.5),\r\n                gasLimit: 200000\r\n            })\r\n        } else if (type === 'stream') {\r\n            result = await adapterContract.methods.addVestingSchedule(\r\n                params.contractCalls[0].contractParams[0].value,\r\n                params.contractCalls[0].contractParams[1].value,\r\n                Number(params.contractCalls[0].contractParams[2].value),\r\n                params.sendAmount,\r\n                renResponse.autogen.nhash,\r\n                renSignature\r\n            ).send({\r\n                from: web3Context.accounts[0],\r\n                gasPrice: Math.round(gasPrice * 1.5),\r\n                gasLimit: 350000\r\n            })\r\n            await updateStreamInfo.bind(this)(tx)\r\n        }\r\n        store.set('pendingShiftIns', pendingShiftIns.filter(p => p !== id))\r\n        updateTx(store, Object.assign(tx, { awaiting: '', txHash: result.transactionHash, error: false }))\r\n    } catch(e) {\r\n        console.log(e)\r\n        updateTx(store, Object.assign(tx, { error: true }))\r\n    }\r\n}\r\n\r\nexport const initShiftIn = function(tx) {\r\n    const {\r\n      type,\r\n      amount,\r\n      renBtcAddress,\r\n      params,\r\n      ethSig,\r\n      destAddress,\r\n      // stream\r\n      startTime,\r\n      duration\r\n    } = tx\r\n    const {\r\n        sdk,\r\n        web3\r\n    } = this.props.store.getState()\r\n\r\n    let adapterAddress = ''\r\n    let contractFn = ''\r\n    let contractParams = []\r\n\r\n    if (type === 'swap') {\r\n        adapterAddress = this.props.store.get('swap.adapterAddress')\r\n        contractFn = 'shiftInWithSwap'\r\n        contractParams = [\r\n            {\r\n                name: \"_to\",\r\n                type: \"address\",\r\n                value: destAddress\r\n            }\r\n        ]\r\n    } else if (type === 'stream') {\r\n        adapterAddress = this.props.store.get('stream.adapterAddress')\r\n        contractFn = 'addVestingSchedule'\r\n        contractParams = [\r\n            {\r\n                name: \"_beneficiary\",\r\n                type: \"bytes\",\r\n                value: web3.utils.fromAscii(destAddress),\r\n            },\r\n            {\r\n                name: \"_startTime\",\r\n                type: \"uint256\",\r\n                value: startTime,\r\n            },\r\n            {\r\n                name: \"_duration\",\r\n                type: \"uint16\",\r\n                value: duration,\r\n            }\r\n        ]\r\n    }\r\n\r\n    // // store data or update params with nonce\r\n    const data = {\r\n        sendToken: RenJS.Tokens.BTC.Btc2Eth,\r\n        sendAmount: RenJS.utils.value(amount, \"btc\").sats(), // Convert to Satoshis\r\n        sendTo: adapterAddress,\r\n        contractFn,\r\n        contractParams,\r\n        nonce: params && params.nonce ? params.nonce : RenJS.utils.randomNonce(),\r\n    }\r\n\r\n    const shiftIn = sdk.shiftIn(data)\r\n\r\n    window.shiftIns.push(shiftIn)\r\n\r\n    return shiftIn\r\n}\r\n\r\nexport const initDeposit = async function(tx) {\r\n    const { store }  = this.props\r\n    const {\r\n        id,\r\n        params,\r\n        awaiting,\r\n        renResponse,\r\n        renSignature,\r\n        error,\r\n        btcConfirmations\r\n    } = tx\r\n\r\n    const pendingShiftIns = store.get('pendingShiftIns')\r\n    if (pendingShiftIns.indexOf(id) < 0) {\r\n        store.set('pendingShiftIns', pendingShiftIns.concat([id]))\r\n    }\r\n\r\n    // console.log('initDeposit', tx)\r\n\r\n    console.log('initDeposit', tx)\r\n\r\n    // completed\r\n    if (!awaiting) return\r\n\r\n    // clear error when re-attempting\r\n    if (error) {\r\n        updateTx(store, Object.assign(tx, { error: false }))\r\n    }\r\n\r\n    // ren already exposed a signature\r\n    if (renResponse && renSignature && !error) {\r\n        completeDeposit.bind(this)(tx)\r\n    } else {\r\n        // create or re-create shift in\r\n        const shiftIn = await initShiftIn.bind(this)(tx)\r\n\r\n        // console.log('initDeposit shiftin', shiftIn)\r\n\r\n        if (!params) {\r\n            addTx(store, Object.assign(tx, {\r\n                params: shiftIn.params,\r\n                renBtcAddress: shiftIn.addr()\r\n            }))\r\n        }\r\n\r\n        // wait for btc\r\n        const deposit = await shiftIn\r\n            .waitForDeposit(2)\r\n            .on(\"deposit\", dep => {\r\n                // console.log('on deposit', dep)\r\n                if (dep.utxo) {\r\n                    if (awaiting === 'btc-init') {\r\n                        updateTx(store, Object.assign(tx, {\r\n                            awaiting: 'btc-settle',\r\n                            btcConfirmations: dep.utxo.confirmations,\r\n                            btcTxHash: dep.utxo.txid\r\n                        }))\r\n                    } else {\r\n                        updateTx(store, Object.assign(tx, {\r\n                            btcConfirmations: dep.utxo.confirmations,\r\n                            btcTxHash: dep.utxo.txid\r\n                        }))\r\n                    }\r\n                }\r\n            })\r\n\r\n        updateTx(store, Object.assign(tx, { awaiting: 'ren-settle' }))\r\n\r\n        try {\r\n            const signature = await deposit.submitToRenVM();\r\n            updateTx(store, Object.assign(tx, {\r\n                renResponse: signature.response,\r\n                renSignature: signature.signature\r\n            }))\r\n\r\n            completeDeposit.bind(this)(tx)\r\n        } catch(e) {\r\n            console.log(e)\r\n        }\r\n    }\r\n}\r\n\r\nexport const initInstantSwap = async function(tx) {\r\n    const { store }  = this.props\r\n    const { params, awaiting, renResponse, renSignature, error } = tx\r\n\r\n    const address = store.get('swap.address')\r\n    const amount = store.get('swap.amount')\r\n\r\n    const request = await fetch(`${API_URL}/swap-gateway/create`, {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json'\r\n        },\r\n        body: JSON.stringify({\r\n            sourceAmount: amount,\r\n            sourceAsset: 'BTC',\r\n            destinationAsset: 'ETH',\r\n            destinationAddress: address\r\n        })\r\n    })\r\n    const data = await request.json()\r\n    addTx(store, Object.assign(tx, {\r\n        renBtcAddress: data.gatewayAddress\r\n    }))\r\n}\r\n\r\nexport const initInstantMonitoring = function() {\r\n    const store = this.props.store\r\n    const network = store.get('selectedNetwork')\r\n\r\n    swapMonitor = setInterval(async () => {\r\n        const transactions = store.get('swap.transactions').filter(t => t.network === network)\r\n        transactions.filter((t) => (t.instant && t.awaiting === 'btc-init')).map(async tx => {\r\n            const req = await fetch(`${API_URL}/swap-gateway/status?gateway=${tx.renBtcAddress}`, {\r\n                method: 'GET',\r\n                headers: {\r\n                  'Content-Type': 'application/json'\r\n                }\r\n            })\r\n\r\n            const data = await req.json()\r\n            if (data.status === 'complete') {\r\n                updateTx(this.props.store, Object.assign(tx, {\r\n                    awaiting: '',\r\n                    txHash: data.txHash\r\n                }))\r\n            }\r\n        })\r\n    }, 1000)\r\n}\r\n\r\nexport const initMonitoring = function() {\r\n    const store = this.props.store\r\n    const network = store.get('selectedNetwork')\r\n    const pendingShiftIns = store.get('pendingShiftIns')\r\n    const txs = store.get('swap.transactions').concat(store.get('stream.transactions')).filter(t => t.network === network)\r\n\r\n    txs.map(tx => {\r\n        if (tx.awaiting && !tx.instant) {\r\n            if (pendingShiftIns.indexOf(tx.id) < 0) {\r\n                initDeposit.bind(this)(tx)\r\n            }\r\n        } else if (tx.type === 'stream') {\r\n            updateStreamInfo.bind(this)(tx)\r\n        }\r\n    })\r\n}\r\n\r\nwindow.shiftIns = []\r\n\r\nexport default {\r\n    addTx,\r\n    updateTx,\r\n    removeTx,\r\n    completeDeposit,\r\n    initShiftIn,\r\n    initDeposit,\r\n    initMonitoring\r\n}\r\n","import RenJS from \"@renproject/ren\";\r\nimport {\r\n    fromConnection,\r\n    ephemeral\r\n} from \"@openzeppelin/network/lib\";\r\n\r\nimport {\r\n    initMonitoring,\r\n    initInstantMonitoring,\r\n    SWAP_ADAPTER_TEST,\r\n    SWAP_ADAPTER_MAIN,\r\n    STREAM_ADAPTER_TEST,\r\n    STREAM_ADAPTER_MAIN\r\n} from './txUtils'\r\n\r\n\r\nconst REACT_APP_TX_FEE = 100;\r\nconst signKey = ephemeral();\r\nconst relay_client_config = {\r\n  txfee: REACT_APP_TX_FEE,\r\n  verbose: true\r\n};\r\n\r\nexport const initNetworking = async function(network) {\r\n    const { store } = this.props\r\n\r\n    const web3Context = await fromConnection(\r\n        `https://${network === 'testnet' ? 'kovan' : 'mainnet'}.infura.io/v3/7be66f167c2e4a05981e2ffc4653dec2`,\r\n        {\r\n            gsn: { signKey, ...relay_client_config }\r\n        }\r\n    )\r\n\r\n    store.set('web3Context', web3Context)\r\n    store.set('web3', web3Context.lib)\r\n\r\n    const sdk = new RenJS(network)\r\n    store.set('sdk', sdk)\r\n\r\n    store.set('swap.adapterAddress', network === 'testnet' ? SWAP_ADAPTER_TEST : SWAP_ADAPTER_MAIN)\r\n    store.set('stream.adapterAddress', network === 'testnet' ? STREAM_ADAPTER_TEST : STREAM_ADAPTER_MAIN)\r\n\r\n    // turn instant off\r\n    store.set('swap.instantSwapSelected', false)\r\n}\r\n\r\nexport const initLocalTransactions = async function() {\r\n    const { store } = this.props\r\n    const swaps = localStorage.getItem('swap.transactions')\r\n    const streams = localStorage.getItem('stream.transactions')\r\n\r\n    if (swaps) {\r\n        store.set('swap.transactions', JSON.parse(swaps))\r\n    }\r\n\r\n    if (streams) {\r\n        store.set('stream.transactions', JSON.parse(streams))\r\n    }\r\n}\r\n\r\nexport const switchNetwork = async function(network) {\r\n    const { store } = this.props\r\n    store.set('selectedNetwork', network)\r\n    await initNetworking.bind(this)(network)\r\n    initLocalTransactions.bind(this)()\r\n    initMonitoring.bind(this)()\r\n    initInstantMonitoring.bind(this)()\r\n}\r\n\r\n\r\nexport default {\r\n    initNetworking,\r\n    initLocalTransactions\r\n}\r\n","import { createMuiTheme } from '@material-ui/core/styles';\r\nimport blueGrey from '@material-ui/core/colors/blueGrey';\r\nimport grey from '@material-ui/core/colors/grey';\r\n\r\nexport default createMuiTheme({\r\n    palette: {\r\n        primary: {\r\n            light: '#000',\r\n            main: '#000',\r\n            dark: '#000',\r\n            contrastText: '#fff',\r\n        },\r\n        // primary: blueGrey,\r\n        secondary: grey,\r\n    },\r\n    overrides: {\r\n        // Style sheet name ⚛️\r\n        // MuiButton: {\r\n        //   // Name of the rule\r\n        //   text: {\r\n        //     // Some CSS\r\n        //     color: 'white',\r\n        //   },\r\n        // }\r\n        PrivateNotchedOutline: {\r\n            root: {\r\n            }\r\n        },\r\n        // '.MuiOutlinedInput-root:hover':{\r\n        //     borderColor: '#EBEBEB !important'\r\n        // },\r\n        MuiOutlinedInput: {\r\n            root:{\r\n                '& input': {\r\n                    // minHeight: 32\r\n                },\r\n            //     '&:hover': {\r\n            //         // notchedOutline: {\r\n            //             borderColor: '#EBEBEB'\r\n            //         // }\r\n            //     }\r\n            },\r\n            notchedOutline: {\r\n                borderColor: '#eee !important',\r\n                borderWidth: '1px !important'\r\n            }\r\n        },\r\n        MuiTextField: {\r\n\r\n        },\r\n        MuiToggleButtonGroup: {\r\n          grouped: {\r\n            '&:not(:first-child)': {\r\n              borderLeft: '1px solid #EBEBEB'\r\n            }\r\n          }\r\n        },\r\n        // .MuiToggleButtonGroup-grouped:not(:first-child)\r\n        MuiToggleButton: {\r\n            root: {\r\n                border: '1px solid #EBEBEB',\r\n                backgroundColor: '#fff',\r\n                '&.Mui-selected': {\r\n                    // back\r\n                    backgroundColor: '#fff !important',\r\n                    color: '#000',\r\n                    fontWeight: '500',\r\n                    '&:hover': {\r\n                        backgroundColor: '#fff !important',\r\n                    }\r\n                },\r\n                '&:hover': {\r\n                    backgroundColor: '#fff !important',\r\n                }\r\n            }\r\n        }\r\n    }\r\n});\r\n","import React from 'react';\r\nimport Web3 from \"web3\";\r\nimport { withStore } from '@spyna/react-store'\r\nimport { withStyles } from '@material-ui/styles';\r\nimport theme from '../theme/theme'\r\nimport classNames from 'classnames'\r\n\r\nimport AccountIcon from '@material-ui/icons/AccountCircle';\r\nimport WifiIcon from '@material-ui/icons/Wifi';\r\n\r\n\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Button from '@material-ui/core/Button';\r\nimport Input from '@material-ui/core/Input';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Modal from '@material-ui/core/Modal';\r\nimport Backdrop from '@material-ui/core/Backdrop';\r\nimport Fade from '@material-ui/core/Fade';\r\n\r\n\r\nconst styles = () => ({\r\n    navContainer: {\r\n        paddingTop: theme.spacing(2),\r\n        paddingBottom: theme.spacing(1),\r\n        minHeight: 52\r\n    },\r\n    logo: {\r\n        height: 22,\r\n        width: 25,\r\n        marginRight: theme.spacing(1)\r\n    },\r\n    accountButton: {\r\n      '& svg': {\r\n        marginRight: theme.spacing(1)\r\n      }\r\n    }\r\n})\r\n\r\nclass NavContainer extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n    }\r\n\r\n    async componentDidMount() {\r\n    }\r\n\r\n    render() {\r\n        const {\r\n            classes,\r\n            store\r\n        } = this.props\r\n\r\n        const walletAddress = store.get('walletAddress')\r\n        const isSignedIn = walletAddress && walletAddress.length\r\n\r\n        console.log(this.props, this.state, this.props.store.getState())\r\n\r\n        return <Grid item xs={12}>\r\n            {<Grid className={classes.navContainer} container alignItems='center'>\r\n              <Grid item xs={6}>\r\n                  <Grid container alignItems='center'>\r\n                      <Typography variant='h6'>RenVM Interoperability</Typography>\r\n                  </Grid>\r\n              </Grid>\r\n            </Grid>}\r\n        </Grid>\r\n    }\r\n}\r\n\r\nexport default withStyles(styles)(withStore(NavContainer))\r\n","import React from 'react';\r\nimport { withStore } from '@spyna/react-store'\r\nimport { withStyles } from '@material-ui/styles';\r\nimport theme from '../theme/theme'\r\nimport classNames from 'classnames'\r\n\r\n\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Button from '@material-ui/core/Button';\r\nimport Input from '@material-ui/core/Input';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Modal from '@material-ui/core/Modal';\r\nimport Backdrop from '@material-ui/core/Backdrop';\r\nimport Fade from '@material-ui/core/Fade';\r\nimport Tabs from '@material-ui/core/Tabs'\r\nimport Tab from '@material-ui/core/Tab'\r\nimport Select from '@material-ui/core/Select';\r\nimport FormControl from '@material-ui/core/FormControl';\r\n\r\nimport { withRouter } from \"react-router\";\r\n\r\nimport RenVMLogo from '../assets/renvm-logo.svg'\r\n\r\nconst styles = () => ({\r\n    tabs: {\r\n        paddingTop: theme.spacing(2),\r\n        paddingRight: theme.spacing(4),\r\n        '& .MuiTabs-flexContainer': {\r\n            alignItems: 'flex-end',\r\n            [theme.breakpoints.down('xs')]: {\r\n                alignItems: 'flex-start',\r\n            }\r\n        },\r\n        '& .MuiTab-wrapper': {\r\n            alignItems: 'flex-end',\r\n            // paddingRight: theme.spacing(1)\r\n        },\r\n        '& span.MuiTabs-indicator': {\r\n            backgroundColor: 'transparent'\r\n        },\r\n        '& button.MuiTab-textColorInherit': {\r\n            color: '#7f7f7f',\r\n        },\r\n        '& button.MuiTab-textColorInherit.Mui-selected': {\r\n            color: '#333',\r\n        },\r\n        width: '100%'\r\n    },\r\n    logo: {\r\n        width: 120,\r\n        height: 'auto',\r\n        marginRight: theme.spacing(5.5)\r\n    },\r\n    container: {\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        alignItems: 'flex-end',\r\n        paddingTop: theme.spacing(4),\r\n        [theme.breakpoints.down('xs')]: {\r\n            alignItems: 'flex-start',\r\n        }\r\n    },\r\n    networkChooser: {\r\n        marginRight: theme.spacing(5.5),\r\n        marginTop: theme.spacing(1)\r\n    }\r\n})\r\n\r\n\r\n\r\nclass ActionTabsContainer extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = props.store.getState()\r\n    }\r\n\r\n    componentWillMount() {\r\n        const { location, store } = this.props\r\n        if (location.pathname && location.pathname.match(/stream/)) {\r\n            store.set('selectedActionTab', 'stream')\r\n        }\r\n    }\r\n\r\n    changeTabs(value) {\r\n        const { store } = this.props\r\n        store.set('selectedActionTab', value)\r\n    }\r\n\r\n    render() {\r\n        const {\r\n            classes,\r\n            store,\r\n            history\r\n        } = this.props\r\n\r\n        // console.log(this.props, this.state)\r\n\r\n        return <div className={classes.container}>\r\n            <img className={classes.logo} src={RenVMLogo} />\r\n            <Tabs\r\n                orientation=\"vertical\"\r\n                value={store.get('selectedActionTab')}\r\n                onChange={(e, value) => {\r\n                    this.changeTabs.bind(this)(value)\r\n                    history.push(value === 'exchange' ? '/' : '/stream')\r\n                }}\r\n                className={classes.tabs}\r\n              >\r\n                <Tab value={'exchange'} label=\"Exchange\" />\r\n                <Tab value={'stream'} label=\"Stream\" />\r\n            </Tabs>\r\n        </div>\r\n    }\r\n}\r\n\r\nexport default withRouter(withStyles(styles)(withStore(ActionTabsContainer)))\r\n","import React from 'react';\r\nimport theme from '../theme/theme'\r\nimport { withStyles } from '@material-ui/styles';\r\n\r\nimport Select from '@material-ui/core/Select';\r\n\r\nimport { switchNetwork } from '../utils/networkingUtils'\r\n\r\nconst styles = () => ({\r\n    container: {\r\n        fontSize: 14\r\n    }\r\n})\r\n\r\nfunction NetworkChooser(props){\r\n    const { currentNetwork, onChange, classes } = props\r\n    return <Select\r\n        native\r\n        value={currentNetwork}\r\n        className={classes.container}\r\n        onChange={onChange}\r\n        inputProps={{\r\n            name: '',\r\n            id: 'age-native-simple',\r\n        }}>\r\n        <option value=\"chaosnet\">Chaosnet</option>\r\n        <option value=\"testnet\">Testnet</option>\r\n    </Select>\r\n}\r\n\r\nexport default withStyles(styles)(NetworkChooser);\r\n","import React from 'react';\r\nimport theme from '../theme/theme'\r\n// import classNames from 'classnames'\r\nimport { withStyles } from '@material-ui/styles';\r\n\r\nconst styles = () => ({\r\n})\r\n\r\nconst StreamTransactionStatus = function(props) {\r\n    const {\r\n        tx,\r\n    } = props\r\n\r\n    return <React.Fragment>\r\n            {tx.awaiting === 'btc-init' ? <span>\r\n                {`Waiting for BTC transaction to be initiated `}<br />{`${tx.renBtcAddress}`}\r\n            </span> : null}\r\n            {tx.awaiting === 'btc-settle' ? <span>\r\n                {`BTC transaction confirming (${tx.btcConfirmations}/${'2'} complete)`}\r\n            </span> : null}\r\n            {tx.awaiting === 'ren-settle' ? <span>\r\n                {`Submitting to RenVM`}\r\n            </span> : null}\r\n            {tx.awaiting === 'eth-settle' ? <span>\r\n                {`Submitting to Ethereum`}\r\n            </span> : null}\r\n            {!tx.awaiting ? <span>{`Swap complete`}</span> : null}\r\n    </React.Fragment>\r\n}\r\n\r\nexport default withStyles(styles)(StreamTransactionStatus);\r\n","import React from 'react';\r\nimport { withStore } from '@spyna/react-store'\r\nimport { withStyles } from '@material-ui/styles';\r\nimport theme from '../theme/theme'\r\nimport classNames from 'classnames'\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Divider from '@material-ui/core/Divider';\r\n// import Tabs from '@material-ui/core/Tabs';\r\n// import Tab from '@material-ui/core/Tab';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Button from '@material-ui/core/Button';\r\nimport InputAdornment from '@material-ui/core/InputAdornment';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport Checkbox from '@material-ui/core/Checkbox';\r\nimport Switch from '@material-ui/core/Switch';\r\n\r\nimport BigNumber from \"bignumber.js\";\r\nimport RenJS from \"@renproject/ren\";\r\n\r\nimport {\r\n    fromConnection,\r\n    ephemeral\r\n} from \"@openzeppelin/network/lib\";\r\n\r\nimport {\r\n    switchNetwork\r\n} from '../utils/networkingUtils'\r\n\r\nimport NetworkChooser from '../components/NetworkChooser'\r\nimport SwapTransactionStatus from '../components/SwapTransactionStatus'\r\n\r\nimport {\r\n    initDeposit,\r\n    initMonitoring,\r\n    initInstantMonitoring,\r\n    removeTx,\r\n    updateTx,\r\n    initInstantSwap\r\n} from '../utils/txUtils'\r\n\r\nconst REACT_APP_TX_FEE = 100;\r\nconst signKey = ephemeral();\r\n// const gasPrice = 10000000000;\r\nconst relay_client_config = {\r\n  txfee: REACT_APP_TX_FEE,\r\n  // force_gasPrice: gasPrice, //override requested gas price\r\n  // gasPrice: gasPrice, //override requested gas price\r\n  // force_gasLimit: 200000, //override requested gas limit.\r\n  // gasLimit: 200000, //override requested gas limit.\r\n  verbose: true\r\n};\r\n\r\n\r\n\r\nconst styles = () => ({\r\n  root: {\r\n    flexGrow: 1,\r\n  },\r\n  paper: {\r\n  },\r\n  navContainer: {\r\n    paddingTop: theme.spacing(1),\r\n    paddingBottom: theme.spacing(3),\r\n    minHeight: 52\r\n  },\r\n  contentContainer: {\r\n      // boxShadow: '0px 0px 30px 0px rgba(0, 0, 0, 0.05)',\r\n      borderRadius: theme.shape.borderRadius,\r\n      border: '1px solid #7f7f7f',\r\n      padding: theme.spacing(3),\r\n\r\n      // marginTop: theme.spacing(4),\r\n      marginBottom: theme.spacing(3),\r\n      '& input': {\r\n      }\r\n  },\r\n  input: {\r\n      marginBottom: theme.spacing(2),\r\n      width: '100%',\r\n      '& input': {\r\n          fontSize: 12\r\n      },\r\n      '& p': {\r\n          fontSize: 12\r\n      },\r\n      '& .MuiOutlinedInput-notchedOutline': {\r\n          borderColor: 'rgba(0, 0, 0, 0.5) !important'\r\n      }\r\n  },\r\n  amountContainer: {\r\n    paddingRight: theme.spacing(1)\r\n  },\r\n  amount: {\r\n  },\r\n  title: {\r\n      fontSize: 16,\r\n      fontWeight: 500,\r\n      marginTop: theme.spacing(4)\r\n  },\r\n  unfinished: {\r\n      // marginTop: theme.spacing(3)\r\n  },\r\n  depositItem: {\r\n      fontSize: 12,\r\n      marginBottom: theme.spacing(1)\r\n  },\r\n  depositStatus: {\r\n      display: 'flex',\r\n      justifyContent: 'space-between'\r\n  },\r\n  info: {\r\n      fontSize: 12,\r\n      marginBottom: theme.spacing(1),\r\n      '& p': {\r\n          marginBottom: 0\r\n      }\r\n  },\r\n  divider: {\r\n      marginTop: theme.spacing(3),\r\n      marginBottom: theme.spacing(3),\r\n      backgroundColor: '#999999'\r\n  },\r\n  desc: {\r\n      marginBottom: theme.spacing(4),\r\n      fontSize: 14,\r\n      display: 'flex',\r\n      alignItems: 'center',\r\n      justifyContent: 'space-between'\r\n  },\r\n  btcLink: {\r\n      fontSize: 12\r\n  },\r\n  viewLink: {\r\n      fontSize: 12,\r\n      marginRight: theme.spacing(1),\r\n  },\r\n  actionTabs: {\r\n      marginTop: theme.spacing(2),\r\n      marginBottom: theme.spacing(2)\r\n  },\r\n  swapButtonContainer: {\r\n      textAlign: 'center',\r\n      paddingTop: theme.spacing(1),\r\n      paddingBottom: theme.spacing(1)\r\n  },\r\n  switchContainer: {\r\n      textAlign: 'center',\r\n      paddingBottom: theme.spacing(1),\r\n      '& .MuiFormControlLabel-label': {\r\n          fontSize: 12\r\n      }\r\n  },\r\n  swapButton: {\r\n  }\r\n})\r\n\r\nclass Ellipsis extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            string: ''\r\n        }\r\n        this.interval = null\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.interval = setInterval(() => {\r\n            const string = this.state.string\r\n            if (string.length < 3) {\r\n                this.setState({ string: (string + '.') })\r\n            } else {\r\n                this.setState({ string: '' })\r\n            }\r\n        }, 500);\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        clearInterval(this.interval)\r\n    }\r\n\r\n    render() {\r\n        return <span>{this.state.string}</span>\r\n    }\r\n}\r\n\r\nclass DepositContainer extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n    }\r\n\r\n    async componentDidMount() {\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        clearInterval(this.swapMonitor)\r\n    }\r\n\r\n    async start() {\r\n        const { store } = this.props\r\n        const amount = store.get('swap.amount')\r\n        const address = store.get('swap.address')\r\n        const transactions = store.get('swap.transactions')\r\n        const network = store.get('selectedNetwork')\r\n\r\n        const tx = {\r\n            id: 'tx-' + Math.floor(Math.random() * (10 ** 16)),\r\n            network,\r\n            type: 'swap',\r\n            instant: false,\r\n            awaiting: 'btc-init',\r\n            destAddress: address,\r\n            amount: amount,\r\n            error: false,\r\n            txHash: ''\r\n        }\r\n\r\n        initDeposit.bind(this)(tx)\r\n    }\r\n\r\n    async startInstant() {\r\n        const { store } = this.props\r\n        const amount = store.get('swap.amount')\r\n        const address = store.get('swap.address')\r\n        const transactions = store.get('swap.transactions')\r\n        const network = store.get('selectedNetwork')\r\n\r\n        const tx = {\r\n            id: 'tx-' + Math.floor(Math.random() * (10 ** 16)),\r\n            network,\r\n            type: 'swap',\r\n            instant: true,\r\n            awaiting: 'btc-init',\r\n            destAddress: address,\r\n            amount: amount,\r\n            error: false,\r\n            txHash: ''\r\n        }\r\n\r\n        initInstantSwap.bind(this)(tx)\r\n    }\r\n\r\n    render() {\r\n        const {\r\n            classes,\r\n            store\r\n        } = this.props\r\n\r\n        const network = store.get('selectedNetwork')\r\n        const adapterAddress = store.get('swap.adapterAddress')\r\n        const instantSwapSelected = store.get('swap.instantSwapSelected')\r\n        const transactions = store.get('swap.transactions').filter(t => t.network === network)\r\n        const amount = store.get('swap.amount')\r\n        const address = store.get('swap.address')\r\n        const showInstant = network === 'testnet'\r\n\r\n        console.log(store.getState())\r\n\r\n        const disabled = amount <= 0.0001 || (amount > 0.0005 && instantSwapSelected) || !address\r\n\r\n        return <Grid container>\r\n            {/*<Typography variant={'h1'} className={classes.title}>Kovan ETH – Testnet BTC Exchange</Typography>*/}\r\n\r\n            <Grid item xs={12} className={classes.contentContainer}>\r\n                <Grid container direction='row'>\r\n                    <Grid className={classes.desc} item xs={12}>\r\n                        <span >Swap BTC for ETH</span>\r\n                        <NetworkChooser\r\n                            currentNetwork={network}\r\n                            onChange={(e) => {\r\n                                switchNetwork.bind(this)(e.target.value)\r\n                            }} />\r\n                        {/*<span className={classes.btcLink}>Send testnet BTC from <a target='_blank' href={'https://tbtc.bitaps.com/'}>here</a></span>*/}\r\n                    </Grid>\r\n                    <Grid item xs={12}>\r\n                        <Grid container>\r\n                            <Grid item xs={4} className={classes.amountContainer}>\r\n                                <TextField className={classNames(classes.input, classes.amount)}\r\n                                    variant='outlined'\r\n                                    size='small'\r\n                                    placeholder='0.000000'\r\n                                    onChange={e => {\r\n                                        store.set('swap.amount', e.target.value)\r\n                                    }}\r\n                                    InputProps={{\r\n                                        endAdornment: <InputAdornment className={classes.endAdornment} position=\"end\">BTC</InputAdornment>\r\n                                    }}/>\r\n                            </Grid>\r\n                            <Grid item xs={8}>\r\n                                <TextField className={classNames(classes.input, classes.address)} variant='outlined' size='small' placeholder='Send to ETH Address' onChange={e => {\r\n                                    store.set('swap.address', e.target.value)\r\n                                }}/>\r\n                            </Grid>\r\n                        </Grid>\r\n\r\n                    </Grid>\r\n                    <Grid item xs={12} className={classes.switchContainer}>\r\n                        {showInstant && <FormControlLabel control={<Switch checked={instantSwapSelected}\r\n                            color='primary'\r\n                            onChange={() => store.set('swap.instantSwapSelected', !instantSwapSelected)}\r\n                            value={\"instant\"} />} label=\"Faster swap (0 confirmations, 0.0005 BTC max)\" />}\r\n                    </Grid>\r\n                    <Grid item xs={12} className={classes.swapButtonContainer}>\r\n                        <Button disabled={disabled} className={classes.swapButton} variant='outlined' color='primary' onClick={instantSwapSelected ? this.startInstant.bind(this) : this.start.bind(this)}>Start Swap</Button>\r\n                    </Grid>\r\n                    {transactions && transactions.length ? <Grid item xs={12}><Divider className={classes.divider} /></Grid> : null}\r\n                    <Grid item xs={12} className={classes.unfinished}>\r\n                        {transactions && transactions.length ? transactions.map((tx, index) => {\r\n                                return <Grid key={index} container direction='row' className={classes.depositItem}>\r\n                                    <Grid item xs={3}>\r\n                                        {tx.amount} BTC\r\n                                    </Grid>\r\n                                    <Grid className={classes.depositStatus} item xs={9}>\r\n                                        <SwapTransactionStatus tx={tx} />\r\n                                        <div>\r\n                                            {tx.awaiting === 'btc-settle' ? <a className={classes.viewLink} target='_blank' href={`https://live.blockcypher.com/btc-testnet/tx/${tx.btcTxHash}`}>View transaction</a> : null}\r\n                                            {tx.awaiting === 'btc-init' || tx.error || !tx.awaiting ? <div>\r\n                                                {tx.txHash ? <a className={classes.viewLink} target='_blank' href={'https://kovan.etherscan.io/tx/'+tx.txHash}>View transaction</a> : null}\r\n                                                <a href='javascript:;' onClick={() => {\r\n                                                    removeTx(store, tx)\r\n                                                }}>{!tx.awaiting ? 'Clear' : 'Cancel'}</a></div> : null}\r\n                                        </div>\r\n                                    </Grid>\r\n                                </Grid>\r\n                            }) : null}\r\n                    </Grid>\r\n                </Grid>\r\n            </Grid>\r\n\r\n            {<Grid item xs={12} className={classes.info}>\r\n                <p>\r\n                    <b className={classes.caption}>How it Works</b>\r\n                    <br/>\r\n                    <br/>\r\n                    This exchange uses <a target='_blank' href='https://renproject.io/'>RenVM</a>, <a target='_blank' href='https://uniswap.io/'>Uniswap</a>, and Open Zeppelin's <a target='_blank' href='https://gsn.openzeppelin.com/'>GSN</a> to facilitate trustless interoperabilty between Bitcoin and Ethereum. All swaps abstract ETH away from the user with the <b>GaaS pattern</b>, and faster swaps are faciliated using the <b>CaaS pattern</b>. To learn more, check out our interoperability tutorials below:\r\n                </p>\r\n                <p>\r\n                    <ul>\r\n                        <li><a target='_blank' href={'https://docs.renproject.io/developers/tutorials'}>GaaS Tutorial</a> | Gas-less transactions</li>\r\n                        <li><a target='_blank' href={'https://docs.renproject.io/developers/tutorials'}>CaaS tutorial</a> | Faster swaps via expedited confirmations</li>\r\n                    </ul>\r\n                </p>\r\n                <p>\r\n                    Swaps are submitted to the following adapter address: <a target='_blank' href={'https://kovan.etherscan.io/address/'+adapterAddress}>{adapterAddress}</a>\r\n                </p>\r\n                <p>\r\n                    To learn more about building interoperable applications like this with RenVM, check out our <a target='_blank' href='https://renproject.io/developers'>developer center</a> or the following links:\r\n                    <ul>\r\n                        <li><a target='_blank' href={'https://docs.renproject.io/developers/ren-sdk'}>Getting started with RenJS</a></li>\r\n                        <li><a target='_blank' href={'https://docs.renproject.io/developers/gateway-js'}>Getting started with GatewayJS</a></li>\r\n                        <li><a target='_blank' href={'https://github.com/renproject/ren/wiki'}>Github Spec</a></li>\r\n                    </ul>\r\n                </p>\r\n                <p>\r\n\r\n                </p>\r\n            </Grid>}\r\n\r\n        </Grid>\r\n    }\r\n}\r\n\r\nexport default withStyles(styles)(withStore(DepositContainer))\r\n","import React from 'react';\r\nimport theme from '../theme/theme'\r\n// import classNames from 'classnames'\r\nimport { withStyles } from '@material-ui/styles';\r\nimport { calculateStreamProgress } from '../utils/txUtils'\r\n\r\nconst styles = () => ({\r\n})\r\n\r\nconst StreamTransactionStatus = function(props) {\r\n    const {\r\n        tx,\r\n    } = props\r\n\r\n    const {\r\n        totalClaimablePercentrage,\r\n        amountClaimedPercentage\r\n    } = calculateStreamProgress(tx)\r\n\r\n    const complete = totalClaimablePercentrage === 100\r\n\r\n    return <React.Fragment>\r\n            {tx.awaiting === 'btc-init' ? <span>\r\n                {`Waiting for BTC transaction to be initiated`}\r\n            </span> : null}\r\n            {tx.awaiting === 'btc-settle' ? <span>\r\n                {`BTC transaction confirming (${tx.btcConfirmations}/${'2'} complete)`}\r\n            </span> : null}\r\n            {tx.awaiting === 'ren-settle' ? <span>\r\n                {tx.error ? `Error submitting to RenVM` : `Submitting to RenVM`}\r\n            </span> : null}\r\n            {tx.awaiting === 'eth-settle' ? <span>\r\n                {tx.error ? `Error submitting to Ethereum` : `Submitting to Ethereum`}\r\n            </span> : null}\r\n            {!tx.awaiting ? <span>{complete ? `Stream complete` : `Streaming in progress`}</span> : null}\r\n    </React.Fragment>\r\n}\r\n\r\nexport default withStyles(styles)(StreamTransactionStatus);\r\n","import React from 'react';\r\nimport theme from '../theme/theme'\r\nimport classNames from 'classnames'\r\nimport { withStyles } from '@material-ui/styles';\r\n\r\n\r\nimport Input from '@material-ui/core/Input';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\n\r\nimport StreamTransactionStatus from './StreamTransactionStatus'\r\nimport { calculateStreamProgress } from '../utils/txUtils'\r\n\r\nconst styles = () => ({\r\n    claimItem: {\r\n        fontSize: 12,\r\n        marginBottom: theme.spacing(1),\r\n        display: 'flex',\r\n        width: '100%'\r\n    },\r\n    depositStatus: {\r\n        display: 'flex',\r\n        justifyContent: 'space-between'\r\n    },\r\n    links: {\r\n        '& a': {\r\n            marginLeft: theme.spacing(1),\r\n        },\r\n    },\r\n    progress: {\r\n        position: 'relative',\r\n        marginRight: theme.spacing(1),\r\n        width: 18,\r\n        height: 18\r\n        // marginBottom: theme.spacing(2)\r\n    },\r\n    progressTop: {\r\n        color: '#eee',\r\n    },\r\n    progressMiddle: {\r\n        color: '#63ccff78',\r\n        animationDuration: '550ms',\r\n        position: 'absolute',\r\n        left: 0,\r\n    },\r\n    progressBottom: {\r\n        color: '#039BE5',\r\n        animationDuration: '550ms',\r\n        position: 'absolute',\r\n        left: 0,\r\n    },\r\n    progressContainer: {\r\n        position: 'relative',\r\n        // paddingTop: theme.spacing(3),\r\n        marginBottom: theme.spacing(4)\r\n    },\r\n    info: {\r\n        display: 'flex',\r\n        justifyContent: 'space-between'\r\n    }\r\n})\r\n\r\nconst ClaimStreamTransaction = function(props) {\r\n    const {\r\n        tx,\r\n        index,\r\n        classes,\r\n    } = props\r\n\r\n    return <Grid className={classes.claimItem} key={index}>\r\n        <Grid item xs={4}>\r\n            <Grid container alignItems='center'>\r\n                <span>{tx.amount} BTC</span>\r\n            </Grid>\r\n        </Grid>\r\n        <Grid item xs={8} className={classes.info}>\r\n            <div className={classes.links}>\r\n                <a target='_blank' href={'https://kovan.etherscan.io/tx/'+tx.txHash}className={classes.viewLink}>\r\n                    View transaction\r\n                </a>\r\n            </div>\r\n            <div>\r\n                <span>{(new Date(tx.timestamp).toLocaleString())}</span>\r\n            </div>\r\n        </Grid>\r\n    </Grid>\r\n}\r\n\r\nexport default withStyles(styles)(ClaimStreamTransaction);\r\n","import React from 'react';\r\nimport theme from '../../theme/theme'\r\nimport classNames from 'classnames'\r\nimport { withStyles } from '@material-ui/styles';\r\nimport { withStore } from '@spyna/react-store'\r\n\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport InputAdornment from '@material-ui/core/InputAdornment';\r\nimport CountUp from 'react-countup';\r\nimport Button from '@material-ui/core/Button';\r\nimport Divider from '@material-ui/core/Divider';\r\n\r\nimport {\r\n    claim,\r\n    updateStreamInfo,\r\n    removeTx,\r\n    calculateStreamProgress,\r\n    MIN_CLAIM_AMOUNT\r\n} from '../../utils/txUtils'\r\nimport StreamTransactionStatus from '../../components/StreamTransactionStatus'\r\nimport ClaimStreamTransaction from '../../components/ClaimStreamTransaction'\r\n\r\nconst styles = () => ({\r\n    progress: {\r\n        position: 'relative',\r\n        margin: '0px auto',\r\n        width: 250,\r\n        // marginBottom: theme.spacing(2)\r\n    },\r\n    progressTop: {\r\n        color: '#eee',\r\n    },\r\n    progressMiddle: {\r\n        color: '#63ccff78',\r\n        animationDuration: '550ms',\r\n        position: 'absolute',\r\n        left: 0,\r\n    },\r\n    progressBottom: {\r\n        color: '#039BE5',\r\n        animationDuration: '550ms',\r\n        position: 'absolute',\r\n        left: 0,\r\n    },\r\n    progressContainer: {\r\n        position: 'relative',\r\n        // paddingTop: theme.spacing(3),\r\n        marginBottom: theme.spacing(4)\r\n    },\r\n    progressText: {\r\n        position: 'absolute',\r\n        top: 0,\r\n        left: 0,\r\n        width: '100%',\r\n        height: '100%',\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n        flexDirection: 'column',\r\n        '& p': {\r\n            margin: '0px'\r\n        }\r\n        // paddingTop: theme.spacing(5)\r\n    },\r\n    totalStreamed: {\r\n        fontSize: 24,\r\n        paddingBottom: theme.spacing(2)\r\n    },\r\n    spinner: {\r\n        position: 'relative',\r\n        margin: '0px auto',\r\n        width: 24,\r\n        marginBottom: theme.spacing(2)\r\n    },\r\n    spinnerTop: {\r\n        color: '#eee',\r\n    },\r\n    spinnerBottom: {\r\n        color: theme.palette.primary.main,\r\n        animationDuration: '550ms',\r\n        position: 'absolute',\r\n        left: 0,\r\n    },\r\n    awaitingStatus: {\r\n        textAlign: 'center',\r\n        paddingBottom: theme.spacing(4),\r\n        fontSize: 12\r\n    },\r\n    claimButton: {\r\n        // margin: '0px auto'\r\n        textAlign: 'center',\r\n        paddingBottom: theme.spacing(3),\r\n        '& span': {\r\n            fontSize: 12\r\n        }\r\n    },\r\n    input: {\r\n        marginBottom: theme.spacing(2),\r\n        width: '100%',\r\n        '& input': {\r\n            fontSize: 12\r\n        },\r\n        '& p': {\r\n            fontSize: 12\r\n        },\r\n        '& .MuiOutlinedInput-notchedOutline': {\r\n            borderColor: 'rgba(0, 0, 0, 0.5) !important'\r\n        }\r\n    },\r\n    hidden: {\r\n        display: 'none'\r\n    },\r\n    initContainer: {\r\n        // paddingTop: theme.spacing(3),\r\n        '& a': {\r\n            fontSize: 12\r\n        }\r\n    },\r\n    backLink: {\r\n        fontSize: 12,\r\n        marginBottom: theme.spacing(4)\r\n    },\r\n    loadingContianer: {\r\n        // paddingTop: theme.spacing(3)\r\n    },\r\n    depositAddress: {\r\n        fontSize: 12,\r\n        textAlign: 'center',\r\n        '& span': {\r\n            paddingBottom: theme.spacing(1)\r\n        }\r\n    },\r\n    address: {\r\n        minWidth: 300,\r\n        width: 'auto'\r\n    },\r\n    divider: {\r\n        marginTop: theme.spacing(3),\r\n        marginBottom: theme.spacing(3),\r\n        backgroundColor: '#999999'\r\n    },\r\n    claims: {\r\n    }\r\n})\r\n\r\n// clean up logic in this component\r\nclass ViewStreamContainer extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            loaded: false,\r\n            totalClaimable: '',\r\n            amountClaimed: '',\r\n            amountClaimedPercentage: '',\r\n            availableAmount: '',\r\n            availablePercentage: '',\r\n            remaingDuration: ''\r\n        }\r\n        this.initAddressRef = React.createRef()\r\n        this.interval = null\r\n        this.scheduleInterval = null\r\n        this.mounted = false\r\n    }\r\n\r\n    async componentDidMount() {\r\n        const selectedTx = this.props.store.get('stream.selectedTx')\r\n        await updateStreamInfo.bind(this)(selectedTx)\r\n        this.setState({\r\n            loaded: true\r\n        })\r\n\r\n        if (this.initAddressRef.current) {\r\n            this.initAddressRef.current.value = selectedTx.renBtcAddress\r\n        }\r\n\r\n        // this.interval = setInterval(() => {\r\n        //     updateStreamInfo.bind(this)(selectedTx)\r\n        // }, 5000)\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        if (this.interval) {\r\n            clearInterval(this.interval)\r\n        }\r\n    }\r\n\r\n    componentDidUpdate() {\r\n    }\r\n\r\n    back() {\r\n        const { store } = this.props\r\n        store.set('stream.activeView', 'start')\r\n        store.set('stream.selectedTx', null)\r\n        // console.log('back')\r\n    }\r\n\r\n    async claim() {\r\n        const { store } = this.props\r\n        const selectedTx = store.get('stream.selectedTx')\r\n        await claim.bind(this)(selectedTx)\r\n    }\r\n\r\n    render() {\r\n        const {\r\n            classes,\r\n            store\r\n        } = this.props\r\n\r\n        const selectedTx = store.get('stream.selectedTx')\r\n\r\n        const {\r\n            loaded\r\n        } = this.state\r\n\r\n        const progress = calculateStreamProgress(selectedTx)\r\n\r\n        const {\r\n            totalClaimablePercentrage,\r\n            amountClaimedPercentage,\r\n            amountClaimablePercentage,\r\n            remaingDuration,\r\n            amount,\r\n            totalClaimableAmount,\r\n            claimedAmount,\r\n            claimableAmount,\r\n        } = progress\r\n\r\n        const { claimTransactions } = selectedTx\r\n        const claimRequesting = store.get('stream.claimRequesting')\r\n\r\n        console.log('progress', progress)\r\n\r\n        return <React.Fragment>\r\n            <div className={classes.backLink}>\r\n                <a href='javascript:;' onClick={this.back.bind(this)}>{'Back'}</a>\r\n            </div>\r\n            {!loaded ? <Grid item xs={12} className={classes.loadingContianer}>\r\n                <div className={classes.spinner}>\r\n                      <CircularProgress\r\n                        variant=\"determinate\"\r\n                        value={100}\r\n                        className={classes.spinnerTop}\r\n                        size={24}\r\n                        thickness={4}\r\n                      />\r\n                      <CircularProgress\r\n                        variant=\"indeterminate\"\r\n                        disableShrink\r\n                        className={classes.spinnerBottom}\r\n                        size={24}\r\n                        thickness={4}\r\n                      />\r\n                </div>\r\n            </Grid> :\r\n            <React.Fragment>\r\n                <Grid item xs={12} className={selectedTx.schedule ? classes.hidden : classes.initContainer}>\r\n                    <Grid container>\r\n                        <Grid item xs={12}>\r\n                            <div className={classes.spinner}>\r\n                                  <CircularProgress\r\n                                    variant=\"determinate\"\r\n                                    value={100}\r\n                                    className={classes.spinnerTop}\r\n                                    size={24}\r\n                                    thickness={4}\r\n                                  />\r\n                                  <CircularProgress\r\n                                    variant=\"indeterminate\"\r\n                                    disableShrink\r\n                                    className={classes.spinnerBottom}\r\n                                    size={24}\r\n                                    thickness={4}\r\n                                  />\r\n                            </div>\r\n                        </Grid>\r\n                        <Grid item xs={12} className={classes.awaitingStatus}>\r\n                            <StreamTransactionStatus tx={selectedTx} />\r\n                            {(selectedTx.awaiting === 'btc-init' || selectedTx.error) &&\r\n                                <p><a href='javascript:;'\r\n                                    className={classes.cancelLink}\r\n                                    onClick={() => {\r\n                                        removeTx(store, selectedTx)\r\n                                        store.set('stream.selectedTx', null)\r\n                                        store.set('stream.activeView', 'start')\r\n                                    }}>\r\n                                    Cancel\r\n                                </a></p>}\r\n\r\n                            {selectedTx.awaiting === 'btc-settle' && <p><a target='_blank' href={`https://live.blockcypher.com/btc-testnet/tx/${selectedTx.btcTxHash}`}\r\n                                className={classes.cancelLink}>\r\n                                View pending transaction\r\n                            </a></p>}\r\n                        </Grid>\r\n                        <Grid item xs={12} onClick={() => {}}>\r\n                            <Grid container justify='center'>\r\n                                {selectedTx.awaiting === 'btc-init' && <div className={classes.depositAddress}>\r\n                                    <p><span>{`Send ${selectedTx.amount} BTC to the following address:`}</span></p>\r\n                                    <TextField className={classNames(classes.input, classes.address)}\r\n                                        label={''}\r\n                                        variant='outlined'\r\n                                        size='small'\r\n                                        placeholder='Deposit Address'\r\n                                        inputRef={this.initAddressRef}/>\r\n                                </div>}\r\n                            </Grid>\r\n\r\n                        </Grid>\r\n                        <Grid item xs={12}>\r\n                            <Grid container justify='center'>\r\n                                {selectedTx.awaiting === 'btc-init' || selectedTx.error || !selectedTx.awaiting ? <div className={classes.cancelLink}>\r\n                                    {selectedTx.txHash ? <a className={classes.viewLink} target='_blank' href={'https://kovan.etherscan.io/tx/'+selectedTx.txHash}>View transaction</a> : null}\r\n                                </div> : null}\r\n                                {/*<span  onClick={() => store.set('activeStreamView', 'start')}>Cancel</span>*/}\r\n                            </Grid>\r\n                        </Grid>\r\n                    </Grid>\r\n                </Grid>\r\n                <div className={selectedTx.schedule && loaded ? classes.progressContainer : classes.hidden}>\r\n                    <Grid item xs={12}>\r\n                        <div className={classes.progress}>\r\n                              <CircularProgress\r\n                                variant=\"static\"\r\n                                value={100}\r\n                                className={classes.progressTop}\r\n                                size={250}\r\n                                thickness={2}\r\n                              />\r\n                              <CircularProgress\r\n                                variant=\"static\"\r\n                                className={classes.progressMiddle}\r\n                                size={250}\r\n                                value={Number(totalClaimablePercentrage)}\r\n                                thickness={2}\r\n                              />\r\n                              <CircularProgress\r\n                                variant=\"static\"\r\n                                className={classes.progressBottom}\r\n                                size={250}\r\n                                value={Number(amountClaimedPercentage)}\r\n                                thickness={2}\r\n                              />\r\n                        </div>\r\n                        <div className={classes.progressText}>\r\n                            <div>\r\n                                <p className={classes.totalStreamed}>\r\n                                    <b>{amount} BTC</b>\r\n                                </p>\r\n                            </div>\r\n                            <p>\r\n                                <b>{claimedAmount.toFixed(6)} / <CountUp start={totalClaimableAmount} end={selectedTx.amount} duration={remaingDuration} decimals={6}>{claimableAmount}</CountUp> BTC</b>\r\n                            </p>\r\n                            <p>\r\n                                <span>claimed</span>\r\n                            </p>\r\n                        </div>\r\n                    </Grid>\r\n                </div>\r\n                <Grid item xs={12} className={selectedTx.schedule && loaded ?classes.claimButton : classes.hidden}>\r\n                    {claimableAmount > MIN_CLAIM_AMOUNT ? <Button disabled={claimRequesting}\r\n                        className={''}\r\n                        variant='outlined'\r\n                        color='primary'\r\n                        onClick={() => {\r\n                            this.claim.bind(this)()\r\n                        }}>\r\n                        {claimRequesting ? `Submitting transaction...` : `Claim ${claimableAmount.toFixed(6)} BTC`}\r\n                    </Button> : <span>{totalClaimablePercentrage < 100 ? `Minimum claim amount is ${MIN_CLAIM_AMOUNT} BTC` : 'All available funds claimed'}</span>}\r\n                </Grid>\r\n                {claimTransactions.length ? <Grid item xs={12}>\r\n                    <Divider className={classes.divider} />\r\n                </Grid> : null}\r\n                <div className={selectedTx.schedule && loaded ? classes.claimTransactions : classes.hidden}>\r\n                    {claimTransactions && claimTransactions.length ? claimTransactions.map((tx, index) => {\r\n                        return <ClaimStreamTransaction\r\n                            tx={tx}\r\n                            index={index}\r\n                            onView={t => {\r\n                            }}\r\n                            onCancel={t => {\r\n                            }}/>\r\n                    }) : null}\r\n                </div>\r\n            </React.Fragment>}\r\n        </React.Fragment>\r\n    }\r\n}\r\n\r\nexport default withStore(withStyles(styles)(ViewStreamContainer))\r\n","import React from 'react';\r\nimport theme from '../theme/theme'\r\nimport classNames from 'classnames'\r\nimport { withStyles } from '@material-ui/styles';\r\n\r\n\r\nimport Input from '@material-ui/core/Input';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\n\r\nimport StreamTransactionStatus from './StreamTransactionStatus'\r\nimport { calculateStreamProgress } from '../utils/txUtils'\r\n\r\nconst styles = () => ({\r\n    depositItem: {\r\n        fontSize: 12,\r\n        marginBottom: theme.spacing(1)\r\n    },\r\n    depositStatus: {\r\n        display: 'flex',\r\n        justifyContent: 'space-between'\r\n    },\r\n    links: {\r\n        '& a': {\r\n            marginLeft: theme.spacing(1),\r\n        },\r\n    },\r\n    progress: {\r\n        position: 'relative',\r\n        marginRight: theme.spacing(1),\r\n        width: 18,\r\n        height: 18\r\n        // marginBottom: theme.spacing(2)\r\n    },\r\n    progressTop: {\r\n        color: '#eee',\r\n    },\r\n    progressMiddle: {\r\n        color: '#63ccff78',\r\n        animationDuration: '550ms',\r\n        position: 'absolute',\r\n        left: 0,\r\n    },\r\n    progressBottom: {\r\n        color: '#039BE5',\r\n        animationDuration: '550ms',\r\n        position: 'absolute',\r\n        left: 0,\r\n    },\r\n    progressContainer: {\r\n        position: 'relative',\r\n        // paddingTop: theme.spacing(3),\r\n        marginBottom: theme.spacing(4)\r\n    },\r\n})\r\n\r\nconst StreamTransaction = function(props) {\r\n    // render() {\r\n        const {\r\n            tx,\r\n            index,\r\n            classes,\r\n            onView,\r\n            onCancel\r\n        } = props\r\n\r\n        const {\r\n            schedule\r\n        } = tx\r\n\r\n        const {\r\n            totalClaimablePercentrage,\r\n            amountClaimedPercentage\r\n        } = calculateStreamProgress(tx)\r\n\r\n        const completed = totalClaimablePercentrage === 100\r\n\r\n        return <Grid key={index}\r\n                  container\r\n                  direction='row'\r\n                  className={classes.depositItem}>\r\n            <Grid item xs={4}>\r\n                <Grid container alignItems='center'>\r\n                    <div className={classes.progress}>\r\n                          <CircularProgress\r\n                            variant=\"static\"\r\n                            value={100}\r\n                            className={classes.progressTop}\r\n                            size={18}\r\n                            thickness={4}\r\n                          />\r\n                          <CircularProgress\r\n                            variant=\"static\"\r\n                            className={classes.progressMiddle}\r\n                            size={18}\r\n                            value={totalClaimablePercentrage}\r\n                            thickness={4}\r\n                          />\r\n                          <CircularProgress\r\n                            variant=\"static\"\r\n                            className={classes.progressBottom}\r\n                            size={18}\r\n                            value={amountClaimedPercentage}\r\n                            thickness={4}\r\n                          />\r\n                    </div>\r\n                    <span>{tx.amount} BTC</span>\r\n                </Grid>\r\n            </Grid>\r\n            <Grid className={classes.depositStatus} item xs={8}>\r\n                <StreamTransactionStatus tx={tx} />\r\n                <div className={classes.links}>\r\n                    <a href='javascript:;' className={classes.viewLink} onClick={() => (onView(tx))}>\r\n                        View\r\n                    </a>\r\n                    {completed && <a href='javascript:;' className={classes.viewLink} onClick={() => (onCancel(tx))}>\r\n                        Clear\r\n                    </a>}\r\n\r\n                    {/*tx.txHash ? <a className={classes.viewLink} target='_blank' href={'https://kovan.etherscan.io/tx/'+tx.txHash}>View transaction</a> : null*/}\r\n\r\n                    {/*tx.awaiting === 'btc-init' || tx.error ? <a href='javascript:;' onClick={() => {\r\n                        onCancel(tx)\r\n                    }}>Cancel</a> : null*/}\r\n                </div>\r\n            </Grid>\r\n        </Grid>\r\n    // }\r\n}\r\n\r\nexport default withStyles(styles)(StreamTransaction);\r\n","import React from 'react';\r\nimport theme from '../theme/theme'\r\nimport { withStyles } from '@material-ui/styles';\r\n\r\nimport Chip from '@material-ui/core/Chip'\r\nimport WarningIcon from '@material-ui/icons/Warning';\r\n\r\n\r\nconst styles = () => ({\r\n    container: {\r\n        fontSize: 12,\r\n        width: '100%',\r\n        marginBottom: theme.spacing(2)\r\n    }\r\n})\r\n\r\nfunction Disclosure(props){\r\n    const { classes } = props\r\n    return <Chip\r\n        className={classes.container}\r\n        icon={<WarningIcon />}\r\n        label={<span><a href='https://chaos.renproject.io/' target='_blank'>Chaosnet</a> is unaudited and this project is in beta. Use at your own risk.</span>}\r\n    />\r\n}\r\n\r\nexport default withStyles(styles)(Disclosure);\r\n","import React from 'react';\r\nimport { withStore } from '@spyna/react-store'\r\nimport { withStyles } from '@material-ui/styles';\r\nimport theme from '../../theme/theme'\r\nimport classNames from 'classnames'\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Divider from '@material-ui/core/Divider';\r\n// import Tabs from '@material-ui/core/Tabs';\r\n// import Tab from '@material-ui/core/Tab';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Button from '@material-ui/core/Button';\r\nimport InputAdornment from '@material-ui/core/InputAdornment';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport Checkbox from '@material-ui/core/Checkbox';\r\nimport Switch from '@material-ui/core/Switch';\r\nimport Select from '@material-ui/core/Select';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport RadioGroup from '@material-ui/core/RadioGroup';\r\n\r\nimport BigNumber from \"bignumber.js\";\r\nimport RenJS from \"@renproject/ren\";\r\n\r\nimport {\r\n    fromConnection,\r\n    ephemeral\r\n} from \"@openzeppelin/network/lib\";\r\n\r\nimport {\r\n    initDeposit,\r\n    initMonitoring,\r\n    initInstantMonitoring,\r\n    removeTx,\r\n    initInstantSwap,\r\n    recoverStreams\r\n} from '../../utils/txUtils'\r\n\r\nimport {\r\n    switchNetwork\r\n} from '../../utils/networkingUtils'\r\n\r\nimport ViewStream from './ViewStreamContainer'\r\nimport StreamTransaction from '../../components/StreamTransaction'\r\nimport NetworkChooser from '../../components/NetworkChooser'\r\nimport Disclosure from '../../components/Disclosure'\r\n\r\nconst REACT_APP_TX_FEE = 100;\r\nconst signKey = ephemeral();\r\n// const gasPrice = 10000000000;\r\nconst relay_client_config = {\r\n  txfee: REACT_APP_TX_FEE,\r\n  // force_gasPrice: gasPrice, //override requested gas price\r\n  // gasPrice: gasPrice, //override requested gas price\r\n  force_gasLimit: 200000, //override requested gas limit.\r\n  gasLimit: 200000, //override requested gas limit.\r\n  verbose: true\r\n};\r\n\r\n\r\n\r\nconst styles = () => ({\r\n  root: {\r\n    flexGrow: 1,\r\n  },\r\n  paper: {\r\n  },\r\n  navContainer: {\r\n    paddingTop: theme.spacing(1),\r\n    paddingBottom: theme.spacing(3),\r\n    minHeight: 52\r\n  },\r\n  contentContainer: {\r\n      // boxShadow: '0px 0px 30px 0px rgba(0, 0, 0, 0.05)',\r\n      borderRadius: theme.shape.borderRadius,\r\n      border: '1px solid #7f7f7f',\r\n      padding: theme.spacing(3),\r\n\r\n      // marginTop: theme.spacing(4),\r\n      marginBottom: theme.spacing(3),\r\n      '& input': {\r\n      }\r\n  },\r\n  input: {\r\n      marginBottom: theme.spacing(2),\r\n      width: '100%',\r\n      '& input': {\r\n          fontSize: 12\r\n      },\r\n      '& p': {\r\n          fontSize: 12\r\n      },\r\n      '& .MuiOutlinedInput-notchedOutline': {\r\n          borderColor: 'rgba(0, 0, 0, 0.5) !important'\r\n      }\r\n  },\r\n  amountContainer: {\r\n    // paddingRight: theme.spacing(1)\r\n  },\r\n  amount: {\r\n  },\r\n  title: {\r\n      fontSize: 16,\r\n      fontWeight: 500,\r\n      marginTop: theme.spacing(4)\r\n  },\r\n  unfinished: {\r\n      // marginTop: theme.spacing(3)\r\n  },\r\n  depositItem: {\r\n      fontSize: 12,\r\n      marginBottom: theme.spacing(1)\r\n  },\r\n  depositStatus: {\r\n      display: 'flex',\r\n      justifyContent: 'space-between'\r\n  },\r\n  info: {\r\n      fontSize: 12,\r\n      marginBottom: theme.spacing(1),\r\n      '& p': {\r\n          marginBottom: 0\r\n      }\r\n  },\r\n  divider: {\r\n      marginTop: theme.spacing(3),\r\n      marginBottom: theme.spacing(3),\r\n      backgroundColor: '#999999'\r\n  },\r\n  desc: {\r\n      marginBottom: theme.spacing(4),\r\n      fontSize: 14,\r\n      display: 'flex',\r\n      alignItems: 'center',\r\n      justifyContent: 'space-between'\r\n  },\r\n  btcLink: {\r\n      fontSize: 12\r\n  },\r\n  viewLink: {\r\n      fontSize: 12,\r\n      marginRight: theme.spacing(1),\r\n  },\r\n  actionTabs: {\r\n      marginTop: theme.spacing(2),\r\n      marginBottom: theme.spacing(2)\r\n  },\r\n  swapButtonContainer: {\r\n      textAlign: 'center',\r\n      paddingTop: theme.spacing(1),\r\n      paddingBottom: theme.spacing(1)\r\n  },\r\n  switchContainer: {\r\n      textAlign: 'center',\r\n      paddingBottom: theme.spacing(1),\r\n      '& .MuiFormControlLabel-label': {\r\n          fontSize: 12\r\n      }\r\n  },\r\n  swapButton: {\r\n  },\r\n  radio: {\r\n      marginBottom: theme.spacing(2),\r\n      flexDirection: 'row',\r\n      '& span': {\r\n        fontSize: 12\r\n      }\r\n  },\r\n  searchLink: {\r\n      fontSize: 12,\r\n      minWidth: 80\r\n  }\r\n})\r\n\r\nclass Ellipsis extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            string: ''\r\n        }\r\n        this.interval = null\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.interval = setInterval(() => {\r\n            const string = this.state.string\r\n            if (string.length < 3) {\r\n                this.setState({ string: (string + '.') })\r\n            } else {\r\n                this.setState({ string: '' })\r\n            }\r\n        }, 500);\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        clearInterval(this.interval)\r\n    }\r\n\r\n    render() {\r\n        return <span>{this.state.string}</span>\r\n    }\r\n}\r\n\r\nclass StreamContainer extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n    }\r\n\r\n    async componentDidMount() {\r\n        const { store } = this.props\r\n\r\n        const txs = localStorage.getItem('stream.transactions')\r\n\r\n        if (txs) {\r\n            store.set('stream.transactions', JSON.parse(txs))\r\n        }\r\n\r\n        // // monitor normal swaps\r\n        // initMonitoring.bind(this)()\r\n        //\r\n        // // monitor instant swaps\r\n        // initInstantMonitoring.bind(this)()\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        clearInterval(this.swapMonitor)\r\n    }\r\n\r\n    async start() {\r\n        const { store } = this.props\r\n        const amount = store.get('stream.amount')\r\n        const address = store.get('stream.address')\r\n        const startTime = Math.round(Date.now() / 1000)\r\n        const duration = store.get('stream.duration')\r\n        const network = store.get('selectedNetwork')\r\n\r\n        const tx = {\r\n            id: 'tx-' + Math.random().toFixed(6),\r\n            network,\r\n            type: 'stream',\r\n            instant: false,\r\n            awaiting: 'btc-init',\r\n            btcConfirmations: 0,\r\n            btcTxHash: '',\r\n            destAddress: address,\r\n            amount: amount,\r\n            startTime,\r\n            duration,\r\n            error: false,\r\n            txHash: '',\r\n            claimTransactions: []\r\n        }\r\n\r\n        store.set('stream.selectedTx', tx)\r\n        store.set('stream.activeView', 'view-stream')\r\n\r\n        initDeposit.bind(this)(tx)\r\n    }\r\n\r\n    viewTx(tx) {\r\n        const { store } =  this.props\r\n\r\n        store.set('stream.selectedTx', tx)\r\n        store.set('stream.activeView', 'view-stream')\r\n    }\r\n\r\n    render() {\r\n        const {\r\n            classes,\r\n            store\r\n        } = this.props\r\n\r\n        // console.log(store.getState())\r\n        const network = store.get('selectedNetwork')\r\n        const amount = store.get('stream.amount')\r\n        const address = store.get('stream.address')\r\n        const duration = store.get('stream.duration')\r\n        const transactions = store.get('stream.transactions').filter(t => t.network === network)\r\n        const activeView = store.get('stream.activeView')\r\n        const selectedTx = store.get('stream.selectedTx')\r\n        const searchAddress = store.get('stream.searchAddress')\r\n        const adapterAddress = store.get('stream.adapterAddress')\r\n\r\n        const disabled = amount < 0.00011 || !address || !duration\r\n        // const disabled = false\r\n\r\n        return <Grid container>\r\n            <Grid item xs={12} className={classes.contentContainer}>\r\n                <Grid container direction='row'>\r\n                    {activeView === 'start' && <React.Fragment>\r\n                        <Grid className={classes.desc} item xs={12}>\r\n                            <span >Stream BTC</span>\r\n                            <NetworkChooser\r\n                                currentNetwork={network}\r\n                                onChange={(e) => {\r\n                                    switchNetwork.bind(this)(e.target.value)\r\n                                }} />\r\n                        </Grid>\r\n                        <Grid item xs={12}>\r\n                            <Grid container>\r\n                                <Grid item xs={12} className={classes.amountContainer}>\r\n                                    <TextField className={classNames(classes.input, classes.amount)}\r\n                                        variant='outlined'\r\n                                        size='small'\r\n                                        placeholder='0.000000'\r\n                                        onChange={e => {\r\n                                            store.set('stream.amount', e.target.value)\r\n                                        }}\r\n                                        InputProps={{\r\n                                            endAdornment: <InputAdornment className={classes.endAdornment} position=\"end\">BTC</InputAdornment>\r\n                                        }}/>\r\n                                </Grid>\r\n                                <Grid item xs={12}>\r\n                                    <TextField className={classNames(classes.input, classes.address)} variant='outlined' size='small' placeholder='Stream to BTC Address' onChange={e => {\r\n                                        store.set('stream.address', e.target.value)\r\n                                    }}/>\r\n                                </Grid>\r\n                                <Grid item xs={12}>\r\n                                    <TextField className={classNames(classes.input, classes.address)} variant='outlined' size='small' placeholder='Duration in Minutes' onChange={e => {\r\n                                        store.set('stream.duration', e.target.value)\r\n                                    }}/>\r\n                                </Grid>\r\n                            </Grid>\r\n\r\n                        </Grid>\r\n                        <Grid item xs={12} className={classes.swapButtonContainer}>\r\n                            <Button disabled={disabled} className={classes.swapButton} variant='outlined' color='primary' onClick={this.start.bind(this)}>Start Stream</Button>\r\n                        </Grid>\r\n\r\n                        <Grid item xs={12}>\r\n                            <Divider className={classes.divider} />\r\n                        </Grid>\r\n                        <Grid item xs={12} className={classes.swapButtonContainer}>\r\n                            <TextField\r\n                                className={classNames(classes.input, classes.address)}\r\n                                variant='outlined'\r\n                                size='small'\r\n                                placeholder='Search by Destination Address'\r\n                                onChange={e => {\r\n                                    store.set('stream.searchAddress', e.target.value)\r\n                                }}\r\n                                InputProps={{\r\n                                    endAdornment: <InputAdornment\r\n                                        className={classes.searchLink}\r\n                                        position=\"end\">\r\n                                            <a href='javascript:;' onClick={() => {\r\n                                                recoverStreams.bind(this)(searchAddress)\r\n                                            }}>Get Streams</a>\r\n                                        </InputAdornment>\r\n                                }}/>\r\n                        </Grid>\r\n\r\n                        <Grid item xs={12} className={classes.unfinished}>\r\n                            {transactions && transactions.length ? transactions.map((tx, index) => {\r\n                                    return <StreamTransaction\r\n                                        tx={tx}\r\n                                        index={index}\r\n                                        onView={t => {\r\n                                            this.viewTx.bind(this)(t)\r\n                                        }}\r\n                                        onCancel={t => {\r\n                                            removeTx(store, t)\r\n                                        }}/>\r\n                                }) : null}\r\n                        </Grid>\r\n                    </React.Fragment>}\r\n                    {activeView === 'view-stream' && <Grid container direction='row'>\r\n                        <Grid item xs={12}>\r\n                            <ViewStream selectedTx={selectedTx} />\r\n                        </Grid>\r\n                    </Grid>}\r\n                </Grid>\r\n            </Grid>\r\n\r\n            {<Grid item xs={12} className={classes.info}>\r\n                <p>\r\n                    <b className={classes.caption}>How it Works</b>\r\n                    <br/>\r\n                    <br/>\r\n                    This exchange uses <a target='_blank' href='https://renproject.io/'>RenVM</a> and Open Zeppelin's <a target='_blank' href='https://gsn.openzeppelin.com/'>GSN</a> to facilitate trustless interoperabilty between Bitcoin and Ethereum. Active streams are held in a smart contract that allows anyone to shift out a valid amount of earned BTC to the recipient BTC address at any time.\r\n                </p>\r\n                <p>\r\n                    Streams are facilitated through the following adapter address: <a target='_blank' href={'https://kovan.etherscan.io/address/'+adapterAddress}>{adapterAddress}</a>\r\n                </p>\r\n                <p>\r\n                    To learn more about building interoperable applications like this with RenVM, check out our <a target='_blank' href='https://renproject.io/developers'>developer center</a> or the following links:\r\n                </p>\r\n                <ul>\r\n                    <li><a target='_blank' href={'https://docs.renproject.io/developers/tutorials'}>Bitcoin Payments Tutorial</a> | Scheduled Bitcoin Payments</li>\r\n                    <li><a target='_blank' href={'https://docs.renproject.io/developers/ren-sdk'}>Getting started with RenJS</a></li>\r\n                    <li><a target='_blank' href={'https://docs.renproject.io/developers/gateway-js'}>Getting started with GatewayJS</a></li>\r\n                    <li><a target='_blank' href={'https://github.com/renproject/ren/wiki'}>Github Spec</a></li>\r\n                </ul>\r\n            </Grid>}\r\n\r\n        </Grid>\r\n    }\r\n}\r\n\r\nexport default withStyles(styles)(withStore(StreamContainer))\r\n","import React from 'react';\r\nimport { createStore, withStore } from '@spyna/react-store'\r\nimport {\r\n  BrowserRouter as Router,\r\n  Switch,\r\n  Route,\r\n  Redirect\r\n} from \"react-router-dom\";\r\n\r\nimport {\r\n    initMonitoring,\r\n    initInstantMonitoring,\r\n    updateTx,\r\n    SWAP_ADAPTER_TEST,\r\n    STREAM_ADAPTER_TEST\r\n} from './utils/txUtils'\r\n\r\nimport {\r\n    initNetworking,\r\n    initLocalTransactions,\r\n} from './utils/networkingUtils'\r\n\r\n\r\nimport NavContainer from './containers/NavContainer'\r\nimport ActionTabsContainer from './containers/ActionTabsContainer'\r\nimport DepositContainer from './containers/DepositContainer'\r\nimport StreamContainer from './containers/Stream/StreamContainer'\r\nimport Disclosure from './components/Disclosure'\r\n\r\nimport theme from './theme/theme'\r\nimport classNames from 'classnames'\r\n\r\nimport { withStyles, ThemeProvider } from '@material-ui/styles';\r\nimport Container from '@material-ui/core/Container'\r\nimport Grid from '@material-ui/core/Grid'\r\n\r\n// import TabPanel from '@material-ui/core/TabPanel'\r\n\r\n\r\n\r\nconst styles = () => ({\r\n    warning: {\r\n        marginTop: theme.spacing(4),\r\n        marginBottom: theme.spacing(1),\r\n        width: '100%'\r\n    }\r\n})\r\n\r\nconst initialState = {\r\n    'selectedActionTab': 'exchange',\r\n    'selectedNetwork': 'testnet',\r\n    'pendingShiftIns': [],\r\n    // exchange\r\n    'swap.transactions': [],\r\n    'swap.adapterAddress': SWAP_ADAPTER_TEST,\r\n    'swap.instantSwapSelected': false,\r\n    'swap.amount': '',\r\n    'swap.address': '',\r\n    // streaming\r\n    'stream.adapterAddress': STREAM_ADAPTER_TEST,\r\n    'stream.transactions': [],\r\n    'stream.amount': '',\r\n    'stream.destination': '',\r\n    'stream.duration': '',\r\n    'stream.activeView': 'start',\r\n    'stream.selectedTx': null,\r\n    'stream.searchAddress': '',\r\n    'stream.claimRequesting': false,\r\n}\r\n\r\n\r\nclass AppWrapper extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {}\r\n    }\r\n\r\n    async componentDidMount() {\r\n        await initNetworking.bind(this)('testnet')\r\n        initLocalTransactions.bind(this)()\r\n\r\n        // monitor normal swaps\r\n        initMonitoring.bind(this)()\r\n\r\n        // monitor instant swaps\r\n        initInstantMonitoring.bind(this)()\r\n\r\n        window.store = this.props.store\r\n\r\n        window.updateTx = updateTx.bind(this)\r\n    }\r\n\r\n    render(){\r\n        const { store, classes } = this.props\r\n        const {\r\n            selectedActionTab\r\n        } = store.getState()\r\n\r\n        return <Container maxWidth=\"lg\">\r\n            <Router>\r\n                <Grid container>\r\n                    {/*<Grid item xs={12}>\r\n                        <NavContainer />\r\n                    </Grid>*/}\r\n                    <Grid item xs={12} sm={3} md={3}>\r\n                        <ActionTabsContainer />\r\n                    </Grid>\r\n                    <Grid className={classes.content} item xs={12} sm={9} md={6}>\r\n                        <div className={classes.warning}><Disclosure /></div>\r\n                        <Switch>\r\n                            <Route exact path=\"/\" component={<DepositContainer />}>\r\n                                {<DepositContainer />}\r\n                            </Route>\r\n                            <Route path=\"/stream\">\r\n                                {<StreamContainer />}\r\n                            </Route>\r\n                        </Switch>\r\n                    </Grid>\r\n                </Grid>\r\n            </Router>\r\n        </Container>\r\n    }\r\n}\r\n\r\nconst AppWrapperComponent = withStore(AppWrapper)\r\n\r\nclass App extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {}\r\n    }\r\n\r\n    async componentDidMount() {\r\n    }\r\n\r\n    render() {\r\n        const { classes } = this.props\r\n        return (\r\n            <ThemeProvider theme={theme}>\r\n                <AppWrapperComponent classes={classes}/>\r\n            </ThemeProvider>\r\n        );\r\n    }\r\n}\r\n\r\nexport default createStore(withStyles(styles)(App), initialState)\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n","module.exports = __webpack_public_path__ + \"static/media/renvm-logo.f545406f.svg\";"],"sourceRoot":""}