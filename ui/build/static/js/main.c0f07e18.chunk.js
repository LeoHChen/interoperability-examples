(window["webpackJsonpcaas-ui"]=window["webpackJsonpcaas-ui"]||[]).push([[0],{182:function(e,t,a){e.exports=a(418)},187:function(e,t,a){},198:function(e,t){},221:function(e,t){},223:function(e,t){},261:function(e,t){},263:function(e,t){},294:function(e,t){},418:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(41),s=a.n(o),i=(a(187),a(11)),c=a.n(i),u=a(36),l=a(69),p=a(26),d=a(70),m=a(71),h=a(77),g=a(72),f=a(176),w=a.n(f),b=a(447),v=a(179),x=a(177),E=a.n(x),y=Object(v.a)({palette:{primary:{light:"#000",main:"#000",dark:"#000",contrastText:"#fff"},secondary:E.a},overrides:{PrivateNotchedOutline:{root:{}},MuiOutlinedInput:{notchedOutline:{borderColor:"#EBEBEB !important",borderWidth:"1px !important"}},MuiTextField:{},MuiToggleButtonGroup:{grouped:{"&:not(:first-child)":{borderLeft:"1px solid #EBEBEB"}}},MuiToggleButton:{root:{border:"1px solid #EBEBEB",backgroundColor:"#fff","&.Mui-selected":{backgroundColor:"#fff !important",color:"#000",fontWeight:"500","&:hover":{backgroundColor:"#fff !important"}},"&:hover":{backgroundColor:"#fff !important"}}}}}),k=(a(175),a(443)),j=a(448),O=a(444),B=function(e){function t(e){return Object(l.a)(this,t),Object(d.a)(this,Object(m.a)(t).call(this,e))}return Object(h.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){var e=Object(u.a)(c.a.mark(function e(){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()},{key:"initBrowserWallet",value:function(){var e=Object(u.a)(c.a.mark(function e(){var t,a,n,r,o;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if((t=this.props.store).set("walletLoading",!0),!window.ethereum){e.next=14;break}return a=window.ethereum,e.prev=4,e.next=7,window.ethereum.enable();case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(4),console.error("User denied account access");case 12:e.next=15;break;case 14:window.web3?a=window.web3.currentProvider:this.log("Please install MetaMask!");case 15:return n=new w.a(a),r="browser",e.next=19,n.eth.getAccounts();case 19:return o=e.sent,e.next=22,window.ethereum.enable();case 22:t.set("walletLoading",!1),t.set("walletAddress",o[0]),t.set("web3",n),t.set("walletType",r);case 26:case"end":return e.stop()}},e,this,[[4,9]])}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props,t=e.classes,a=e.store.get("walletAddress");a&&a.length;return console.log(this.props,this.state,this.props.store.getState()),r.a.createElement(k.a,{item:!0,xs:12},r.a.createElement(k.a,{className:t.navContainer,container:!0,alignItems:"center"},r.a.createElement(k.a,{item:!0,xs:6},r.a.createElement(k.a,{container:!0,alignItems:"center"},r.a.createElement(O.a,{variant:"h6"},"Starter-ui"))),r.a.createElement(k.a,{item:!0,xs:6},r.a.createElement(k.a,{container:!0,justify:"flex-end"},r.a.createElement(j.a,{color:"primary",onClick:this.initBrowserWallet.bind(this),variant:"outlined",className:t.accountButton},a?a.slice(0,7)+"..."+a.slice(a.length-5):"Connect wallet")))))}}]),t}(r.a.Component),C=(Object(b.a)(function(){return{navContainer:{paddingTop:y.spacing(1),paddingBottom:y.spacing(3),minHeight:52},logo:{height:22,width:25,marginRight:y.spacing(1)},accountButton:{"& svg":{marginRight:y.spacing(1)}}}})(Object(g.b)(B)),a(445)),T=a(446),A=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(d.a)(this,Object(m.a)(t).call(this,e))).state={address:"",amount:"",gateway:""},a.interval=null,a}return Object(h.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){var e=Object(u.a)(c.a.mark(function e(){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()},{key:"getGateway",value:function(){var e=Object(u.a)(c.a.mark(function e(){var t,a,n,r=this;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t="",e.next=3,fetch("".concat(t,"/swap-gateway/create"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sourceAmount:this.state.amount,sourceAsset:"BTC",destinationAsset:"ETH",destinationAddress:this.state.address})});case 3:return a=e.sent,e.next=6,a.json();case 6:n=e.sent,console.log(n),this.setState({gateway:n.gatewayAddress}),this.interval&&clearInterval(this.interval),this.interval=setInterval(Object(u.a)(c.a.mark(function e(){var a,o;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(t,"/swap-gateway/status?gateway=").concat(n.gatewayAddress),{method:"GET",headers:{"Content-Type":"application/json"}});case 2:return a=e.sent,e.next=5,a.json();case 5:o=e.sent,r.setState({txHash:o.txHash,status:o.status});case 7:case"end":return e.stop()}},e)})),1e4);case 11:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.props.classes;return console.log(this.state,this.props),r.a.createElement(C.a,{theme:y},r.a.createElement(T.a,{maxWidth:"sm"},r.a.createElement(k.a,{container:!0},r.a.createElement(k.a,{item:!0,xs:12}),r.a.createElement(k.a,{item:!0,xs:12,className:t.contentContainer},r.a.createElement(k.a,{container:!0,direction:"column"},r.a.createElement(k.a,{item:!0,xs:12},r.a.createElement("input",{placeholder:"ETH Address",onChange:function(t){e.setState({address:t.target.value})}})),r.a.createElement(k.a,{item:!0,xs:12},r.a.createElement("input",{placeholder:"BTC Amount",onChange:function(t){e.setState({amount:t.target.value})}})),r.a.createElement(k.a,{item:!0,xs:12},r.a.createElement("button",{onClick:this.getGateway.bind(this)},"Get Swap Address")),this.state.gateway&&r.a.createElement(r.a.Fragment,null,r.a.createElement(k.a,{className:t.gateway,item:!0,xs:12},this.state.gateway),r.a.createElement(k.a,{className:t.status,item:!0,xs:12},"complete"===this.state.status?r.a.createElement("span",null,"Swap submitted! ",r.a.createElement("a",{href:"https://kovan.etherscan.io/tx/"+this.state.txHash,target:"_blank"},"View transaction")):r.a.createElement("span",null,"Waiting for ",this.state.amount," BTC sent to gateway..."))))))))}}]),t}(r.a.Component),S=Object(g.a)(Object(b.a)(function(){return{root:{flexGrow:1},paper:{},navContainer:{paddingTop:y.spacing(1),paddingBottom:y.spacing(3),minHeight:52},contentContainer:{boxShadow:"0px 0px 30px 0px rgba(0, 0, 0, 0.05)",borderRadius:y.shape.borderRadius,padding:y.spacing(3),marginTop:y.spacing(3),marginBottom:y.spacing(3),"& input":{marginBottom:y.spacing(1)}},gateway:{marginTop:y.spacing(2)},status:{fontSize:14}}})(A),{});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(S,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[182,1,2]]]);
//# sourceMappingURL=main.c0f07e18.chunk.js.map